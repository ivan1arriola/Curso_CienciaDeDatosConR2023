knitr::opts_chunk$set(
echo = params[["show_answers"]],
include = params[["show_answers"]],
# echo = TRUE,
tidy.opts = list(width.cutoff = 50),
tidy = 'styler',
# tidy = TRUE,
fig.pos = 'h',
out.extra = '',
message = FALSE,
warning = FALSE
)
# NO USAR:
library(tidyverse)
# SI USAR:
dplyr::filter()
vacunacion_data <- read_csv("./actos_vacunales.csv")
vacunacion_data <- read_csv("./actos_vacunales.csv")
head(vacunacion_data)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
head(vacunacion_data)
vacunacion_data %>% group_by(Fecha) %>% summarise_all()
vacunacion_data %>% group_by(Fecha) %>% summarise()
?substr
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data %>% mutate(
anio = substrRight(Fecha, 4)
)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data %>% mutate(
Fecha = as.Date(Fecha)
)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data %>% mutate(
Fecha = as.Date(Fecha, "%d/%m/%y")
)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
)
glimpse(vacunacion_data)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
)
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
)
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
)
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
) %>% select(FechaDate, -FechaDate)
head(vacunacion_data)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
) %>% select(FechaDate)
head(vacunacion_data)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%y")
) %>% select(FechaDate, everything())
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%yyyy")
) %>% select(FechaDate, everything())
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y")
) %>% select(FechaDate, everything())
head(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y")
) %>% select(FechaDate, everything())
head(vacunacion_data, 10)
?head
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y")
) %>% select(FechaDate, everything())
tail(vacunacion_data, 10)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(FechaDate, '%Y'),
AnioMes = as.numeric(FechaDate, '%m/%Y')
) %>% select(FechaDate, everything())
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(FechaDate, '%Y'),
AnioMes = as.numeric(FechaDate, '%m/%Y')
) %>% select(Anio,AnioMes , everything())
head(vacunacion_data)
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(FechaDate, '%Y'),
AnioMes = as.numeric(FechaDate, '%m/%Y')
) %>% select(Anio,AnioMes , everything())
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(FechaDate, '%Y'),
AnioMes = as.numeric(FechaDate, '%m/%Y')
) %>% select(Anio,AnioMes , everything())
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(FechaDate, '%y'),
AnioMes = as.numeric(FechaDate, '%m/%Y')
) %>% select(Anio,AnioMes , everything())
glimpse(vacunacion_data)
as.numeric(vacunacion_data$FechaDate)
as.numeric(vacunacion_data$FechaDate, '$d')
as.numeric(format(vacunacion_data$FechaDate, '%d'))
as.numeric(format(vacunacion_data$FechaDate, '%Y'))
as.numeric(format(vacunacion_data$FechaDate, '&m/%Y'))
as.numeric(format(vacunacion_data$FechaDate, '&m%Y'))
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(format(FechaDate, '%y')),
AnioMes = Anio *100 + as.numeric(format(FechaDate, '%m'))
) %>% select(Anio,AnioMes , everything())
glimpse(vacunacion_data)
substrRight <- function(x, n){ substr(x, nchar(x)-n+1, nchar(x)) }
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(format(FechaDate, '%Y')),
AnioMes = Anio *100 + as.numeric(format(FechaDate, '%m'))
) %>% select(Anio,AnioMes , everything())
glimpse(vacunacion_data)
# Chunk 1: setup
knitr::opts_chunk$set(
echo = params[["show_answers"]],
include = params[["show_answers"]],
# echo = TRUE,
tidy.opts = list(width.cutoff = 50),
tidy = 'styler',
# tidy = TRUE,
fig.pos = 'h',
out.extra = '',
message = FALSE,
warning = FALSE
)
# Chunk 3
library(readr)
library(dyplr)
# Chunk 1: setup
knitr::opts_chunk$set(
echo = params[["show_answers"]],
include = params[["show_answers"]],
# echo = TRUE,
tidy.opts = list(width.cutoff = 50),
tidy = 'styler',
# tidy = TRUE,
fig.pos = 'h',
out.extra = '',
message = FALSE,
warning = FALSE
)
# Chunk 3
library(readr)
library(dyplr)
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(format(FechaDate, '%Y')),
AnioMes = Anio *100 + as.numeric(format(FechaDate, '%m'))
) %>% select(Anio,AnioMes , everything())
# Chunk 1: setup
knitr::opts_chunk$set(
echo = params[["show_answers"]],
include = params[["show_answers"]],
# echo = TRUE,
tidy.opts = list(width.cutoff = 50),
tidy = 'styler',
# tidy = TRUE,
fig.pos = 'h',
out.extra = '',
message = FALSE,
warning = FALSE
)
# Chunk 3
library(readr)
library(dyplr)
# Chunk 1: setup
knitr::opts_chunk$set(
echo = params[["show_answers"]],
include = params[["show_answers"]],
# echo = TRUE,
tidy.opts = list(width.cutoff = 50),
tidy = 'styler',
# tidy = TRUE,
fig.pos = 'h',
out.extra = '',
message = FALSE,
warning = FALSE
)
# Chunk 3
library(readr)
library(dplyr)
# Chunk 4
vacunacion_data <- read_csv2("./actos_vacunales.csv")
glimpse(vacunacion_data)
vacunacion_data <- vacunacion_data %>% mutate(
FechaDate = as.Date(Fecha, "%d/%m/%Y"),
Anio = as.numeric(format(FechaDate, '%Y')),
AnioMes = Anio *100 + as.numeric(format(FechaDate, '%m'))
) %>% select(Anio,AnioMes , everything())
glimpse(vacunacion_data)
vacunacion_data %>% group_by(Anio) %>% summary()
vacunacion_data %>% group_by(Anio)
vacunacion_data %>%
group_by(Anio) %>%
summarise_all(sum)
# Resumen de variables numéricas por año
vacunacion_data %>%
group_by(Anio) %>%
summarise_if(is.numeric, sum)
# Resumen de variables numéricas por mes/año
vacunacion_data %>%
group_by(AnioMes) %>%
summarise_if(is.numeric, sum)
# Resumen de variables numéricas por año
vacunacion_data %>%
group_by(Anio) %>%
summarise_if(is.numeric, sum)
# Resumen de variables numéricas por año/mes
vacunacion_data %>%
group_by(AnioMes) %>%
summarise_if(is.numeric, sum)
# Resumen de variables numéricas por año
vacunacion_data %>%
group_by(Anio) %>%
summarise_if(is.numeric, sum)
# Resumen de variables numéricas por año/mes
vacunacion_data %>%
group_by(AnioMes) %>%
summarise_if(is.numeric, sum)
vacunasPorLaboratorio_data <- vacunacion_data %>% select(ends_with('Sinovac'), ends_with('Pfizer'))
View(vacunasPorLaboratorio_data)
vacunasPorLaboratorio_data <- vacunacion_data %>% select(ends_with('Sinovac'), ends_with('Pfizer'), ends_with('Astrazeneca'))
vacunasPorLaboratorio_data %>%
select(contains("Sinovac"), contains("Pfizer"), contains("Astrazeneca")) %>%
summarise(
Sinovac = sum(Sinovac),
Pfizer = sum(Pfizer),
Astrazeneca = sum(Astrazeneca)
)
vacunacion_data %>%
select(contains("Sinovac"), contains("Pfizer"), contains("Astrazeneca")) %>%
summarise(
Sinovac = sum(Sinovac),
Pfizer = sum(Pfizer),
Astrazeneca = sum(Astrazeneca)
)
vacunasPorLaboratorio_data
vacunasPorLaboratorio_data %>%
summarise(
total_sinovac = sum(`1era Dosis Sinovac`, `2da Dosis Sinovac`, `3era Dosis Sinovac`, `4ta Dosis Sinovac`),
total_pfizer = sum(`1era Dosis Pfizer`, `2da Dosis Pfizer`, `3era Dosis Pfizer`, `4ta Dosis Pfizer`),
total_astrazeneca = sum(`1era Dosis Astrazeneca`, `2da Dosis Astrazeneca`, `3era Dosis Astrazeneca`, `4ta Dosis Astrazeneca`)
)
vacunasPorLaboratorio_data %>% summarise_all(sum)
vacunasPorLaboratorio_data %>% summarise_all(sum)
vacunasPorLaboratorio_data %>%
pivot_longer(cols = everything(), names_to = "dosis", values_to = "cantidad") %>%
separate(dosis, into = c("dosis_num", "vacuna"), sep = " ") %>%
group_by(vacuna) %>%
summarise(total_dosis = sum(cantidad))
